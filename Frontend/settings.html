<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings ‚Äì Smart Food Analyzer</title>

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <style>
    body {
      background: linear-gradient(135deg, #e9f7ef, #d0ecd8);
      font-family: "Inter", sans-serif;
      transition: 0.3s ease;
    }

    /* Dark mode */
    body.dark {
      background: #0d0d0d;
      color: white;
    }

    body.dark .section {
      background: rgba(50, 50, 50, 0.8);
    }

    /* High contrast */
    body.contrast {
      background: black !important;
      color: yellow !important;
    }

    .settings-container {
      max-width: 750px;
      margin: 40px auto;
      padding: 30px;
      background: rgba(255,255,255,0.75);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      animation: fadeIn 1s ease-in-out;
      transition: 0.3s ease;
    }

    body.dark .settings-container {
      background: rgba(30,30,30,0.7);
    }

    .settings-title {
      text-align: center;
      font-size: 32px;
      color: #1b5e20;
      font-family: "Poppins", sans-serif;
      font-weight: 700;
      margin-bottom: 20px;
    }

    body.dark .settings-title {
      color: #99ff99;
    }

    .section {
      margin-top: 25px;
      padding: 20px;
      background: rgba(255,255,255,0.8);
      border-radius: 15px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.1);
      transition: 0.3s ease;
    }

    .section-title {
      font-weight: 700;
      font-size: 20px;
      color: #247a3b;
      margin-bottom: 10px;
    }

    body.dark .section-title {
      color: #66ff66;
    }

    .toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
    }

    .switch {
      position: relative;
      width: 48px;
      height: 24px;
      display: inline-block;
    }

    .switch input { display: none; }

    .slider {
      position: absolute;
      background: #ccc;
      border-radius: 34px;
      width: 100%;
      height: 100%;
      transition: 0.3s;
      cursor: pointer;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background: white;
      border-radius: 50%;
      transition: 0.3s;
    }

    input:checked + .slider {
      background: #247a3b;
    }

    input:checked + .slider:before {
      transform: translateX(24px);
    }

    .danger-btn {
      width: 100%;
      padding: 14px;
      background: #d32f2f;
      color: white;
      border: none;
      border-radius: 12px;
      margin-top: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    .danger-btn:hover {
      background: #b71c1c;
    }

    .save-btn {
      width: 100%;
      padding: 15px;
      background: #247a3b;
      color: white;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      margin-top: 25px;
      cursor: pointer;
      transition: 0.3s;
    }

    .save-btn:hover {
      background: #1b5e20;
    }
  </style>
</head>

<body>

  <!-- SIDEBAR -->
  <div class="sidebar" id="sideMenu">
    <button class="close-btn" onclick="closeMenu()">‚úï Close</button>

    <a href="home.html">üè† Home</a>
    <a href="index1.html">ü•ó Analyzer</a>
    <a href="dashboard.html">üìä Dashboard</a>
    <a href="fitness.html">üèÉFitness</a>
    <a href="history.html">üßæ History</a>
    <a href="profile.html">üë§ Profile</a>
    <a href="settings.html">‚öô Settings</a>
    <a href="ai-assistant.html" class="active">ü§ñ AI Assistant</a>
  </div>

  <!-- HEADER -->
  <div class="header-card">
    <button class="menu-btn" onclick="openMenu()">‚ò∞</button>
    <div class="brand">Smart Food Analyzer</div>
  </div>

  <!-- SETTINGS PANEL -->
  <div class="settings-container">

    <h2 class="settings-title">Settings</h2>

    <!-- THEME OPTIONS -->
    <div class="section">
      <div class="section-title">üåó Theme</div>

      <div class="toggle">
        <label>Dark Mode</label>
        <label class="switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="toggle">
        <label>High Contrast Mode</label>
        <label class="switch">
          <input type="checkbox" id="contrastToggle">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- NOTIFICATIONS -->
    <div class="section">
      <div class="section-title">üîî Notifications</div>

      <div class="toggle">
        <label>Daily Nutrition Reminders</label>
        <label class="switch">
          <input type="checkbox" id="notifyDaily">
          <span class="slider"></span>
        </label>
      </div>

      <div class="toggle">
        <label>Weekly Summary Reports</label>
        <label class="switch">
          <input type="checkbox" id="notifyWeekly">
          <span class="slider"></span>
        </label>
      </div>

      <div class="toggle">
        <label>New Feature Alerts</label>
        <label class="switch">
          <input type="checkbox" id="notifyUpdates">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- ACCOUNT -->
    <div class="section">
      <div class="section-title">üë§ Account</div>

      <button class="danger-btn" onclick="alert('Password reset link sent!')">Reset Password</button>
      <button class="danger-btn" onclick="alert('Account Deleted!')">Delete Account</button>
    </div>

    <!-- DATA CONTROL -->
    <div class="section">
      <div class="section-title">üóÇ Data & Storage</div>

      <button class="danger-btn" onclick="clearHistory()">Clear All History</button>
      <button class="danger-btn" onclick="localStorage.clear(); alert('All App Data Cleared!')">Reset App Data</button>
    </div>

    <!-- SUPPORT -->
    <div class="section">
      <div class="section-title">‚ùì Help & Support</div>
      <p>Email: support@smartfood.com</p>
      <p>Version: 1.4.0</p>
      <p><a href="#" style="color:#247a3b; font-weight:600;">Read User Guide</a></p>
    </div>

    <button class="save-btn" onclick="saveSettings()">Save All Settings</button>
  </div>
  <div class="setting-row">
    <label>Dark Mode</label>
    <label class="switch">
        <input type="checkbox" id="darkToggle">
        <span class="slider"></span>
    </label>
</div>

  <script>

    function openMenu() {
      document.getElementById('sideMenu').classList.add('active');
    }
    function closeMenu() {
      document.getElementById('sideMenu').classList.remove('active');
    }

    // ========== SAVE SETTINGS ==========
    function saveSettings() {
      const settings = {
        darkMode: document.getElementById("darkModeToggle").checked,
        contrast: document.getElementById("contrastToggle").checked,
        notifyDaily: document.getElementById("notifyDaily").checked,
        notifyWeekly: document.getElementById("notifyWeekly").checked,
        notifyUpdates: document.getElementById("notifyUpdates").checked
      };

      localStorage.setItem("appSettings", JSON.stringify(settings));
      alert("Settings Saved!");
    }

    // ========== LOAD SETTINGS ON PAGE LOAD ==========
    window.onload = function() {
      const saved = JSON.parse(localStorage.getItem("appSettings"));

      if (saved) {
        document.getElementById("darkModeToggle").checked = saved.darkMode;
        document.getElementById("contrastToggle").checked = saved.contrast;
        document.getElementById("notifyDaily").checked = saved.notifyDaily;
        document.getElementById("notifyWeekly").checked = saved.notifyWeekly;
        document.getElementById("notifyUpdates").checked = saved.notifyUpdates;

        if (saved.darkMode) document.body.classList.add("dark");
        if (saved.contrast) document.body.classList.add("contrast");
      }
    };

    // Live toggle effects
    document.getElementById("darkModeToggle").addEventListener("change", () =>
      document.body.classList.toggle("dark")
    );

    document.getElementById("contrastToggle").addEventListener("change", () =>
      document.body.classList.toggle("contrast")
    );

    function clearHistory() {
      localStorage.removeItem("analysisHistory");
      alert("History Cleared!");
    }

  </script>
<script>
    // Load theme on page load
    document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme");

        if (savedTheme === "dark") {
            document.body.classList.add("dark-mode");
        }
    });
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    
    const toggle = document.getElementById("darkToggle");

    // Load saved mode
    if (localStorage.getItem("theme") === "dark") {
        toggle.checked = true;
    }

    // Toggle & save
    toggle.addEventListener("change", () => {
        if (toggle.checked) {
            document.body.classList.add("dark-mode");
            localStorage.setItem("theme", "dark");
        } else {
            document.body.classList.remove("dark-mode");
            localStorage.setItem("theme", "light");
        }
    });
});
</script>
</body>
</html>